# RAG система для помощи в подборе мероприятий

Сервис работает внутри контейнера и принимает запросы пользователя

Для того, чтобы запустить контейнер необходимо использовать комманду:
```
docker-compose build
```
Затем:

```
docker-compose up -d
```
Для работы используется база данных MongoDB, которая заполняется из файла ```events_data/events.json```

## Пример работы сервиса:
Отправляем запрос:
```
# Импортируем библиотеку requests
import requests

# Создаем объект Data с текстом
data = {"string": "я бы хотел посетить выставку или концерт в конце февраля 2024 года"}

# Отправляем POST-запрос к роутеру на локалхост с портом 8100
response = requests.post("http://0.0.0.0:8100/process", json=data)

# Проверяем статус ответа
if response.status_code == 200:
    # Преобразуем ответ в JSON-формат
    result = response.json()
    # Выводим результат
    print(result["result"])
else:
    # Выводим сообщение об ошибке
    print("Ошибка запроса:", response.status_code)
```
Получаем ответ:
```
Название: Панк-культура. Король и Шут
Тип: Выставка
Описание: Панк-культура. Король и Шут Знаменитая панк-выставка теперь в «Севкабеле»
Дата: 28/02/2024
Время: 10:00
Адрес: В.О., Кожевенная линия, 40
Ссылка: https://afisha.yandex.ru/saint-petersburg/art/pank-kultura-korol-i-shut?city=saint-petersburg&source=rubric_main_featured&schedule-preset=today

Название: Cinema Medley: Путешествие в Мультилэнд
Тип: Концерт
Описание: Imperial Orchestra представит новое симфоническое шоу саундтреков из мультфильмов — Cinema Medley: Путешествие в Мультилэнд!
Дата: 18/02/2024
Время: 17:00
Адрес: Приморский просп., 80, стр. 1
Ссылка: https://afisha.yandex.ru/saint-petersburg/concert/cinema-medley-puteshestvie-v-multilend?city=saint-petersburg&source=rubric_main_featured
Вот, что мне удалось найти по вашему запросу!
Рад, если в этом списке вы найдете то, что вам понравится.
Обязательно оставьте отзыв после посещения мероприятия!
```
## Как все устроено:

Mistral позволяет пользователю найти мероприятие по его запросу:
Пользователь отправляет запрос, в котором указано, какого типа мероприятие и в каких числах он бы хотел посетить
Mistral обрабатывает запрос, из базы данных получаем подходяшие по дате и формату мероприятия
Из этих мероприятий Mistral находит самые подходящие под запрос пользователя и отдает результат
